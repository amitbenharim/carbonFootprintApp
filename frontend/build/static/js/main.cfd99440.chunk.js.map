{"version":3,"sources":["Elements.js","Navbar.js","services/communicate.js","App.js","index.js"],"names":["BigButton","key","page","text","color","click","className","onClick","Button","submit","style","buttonStyle","undefined","Element","navigate","type","min","max","value","update","time","timeperiod","units","field","Header","Slider","useState","val","setVal","class","onChange","e","preventDefault","v","target","TimePeriod","Field","unitLabel","event","new_val","Count","Math","Navbar","buttonDivStyle","display","float","marginLeft","marginRight","height","id","username","token","url","console","log","request","axios","get","data","then","response","newObject","post","App","require","validDetails","setValidDetails","currentPage","setPage","setUsername","password","setPassword","repeatedPassword","setRepeatedPassword","setToken","residents","homeSize","electricityConsumption","renewablePercentage","weeklyTrainMileage","weeklyBikeMileage","weeklyWalkingMileage","weeklyDrivingMileage","weeklyBusMileage","ShortFlights","LongFlights","survey","setSurvey","busCount","trainCount","challenges","setChallenges","appState","setObject","object","k","setSurveyState","setChallengesState","encryptPassword","updateState","setParam","setter","def","setData","userData","chals","i","s","forEach","a","sendData","encryptedPassword","communicate","catch","window","onbeforeunload","login","success","alert","updateDetails","Object","keys","pages","includes","Infinity","weeklyCarMileage","shortFlights","longFlights","map","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cfd99440.chunk.js","sourcesContent":["import './App.css';\r\nimport React, { useState } from 'react'\r\n\r\nconst BigButton = ({key, page, text, color, click}) => {\r\n    return (\r\n      <div>\r\n        <button  className={\"pastel_\" + color + \" divider quarter\"} onClick={click(page)} >\r\n              {text}\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n  \r\nconst Button = ({text, submit, style, buttonStyle}) => {\r\n  if (typeof(style) == undefined) {\r\n      style = {}\r\n  }\r\n  if (typeof(buttonStyle) == undefined) {\r\n      buttonStyle = {}\r\n  }\r\n  return (\r\n    <div style={style}>\r\n      <button style={buttonStyle} className=\"btn-primary\" onClick={submit}>\r\n        {text}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n  \r\n  \r\n  \r\nconst Element = ({key, page, navigate}) => {\r\n  switch (page.type) {\r\n    case \"BigButton\":\r\n      return (\r\n        <div>\r\n          <BigButton key={key} page={page.page} text={page.text} color={page.color} click={navigate} />\r\n        </div>\r\n      )\r\n    case \"Count\":\r\n      return (\r\n        <div>\r\n          <Count key={key} min={page.min} max={page.max} text={page.text} color={page.color} value={page.value} update={page.update} />\r\n        </div>\r\n      )\r\n    case \"Header\":\r\n      return (\r\n        <div>\r\n          <Header key={key} text={page.text} color={page.color} />\r\n        </div>\r\n      )\r\n    case \"Field\":\r\n      return (\r\n        <div>\r\n          <Field key={key} time={page.timeperiod} text={page.text} color={page.color} value={page.value} units={page.units} update={page.update} type={page.field} />\r\n        </div>\r\n      )\r\n    case \"Button\":\r\n      return (\r\n        <div>\r\n          <Button key={key} text={page.text} submit={page.submit}/>\r\n        </div>\r\n      )\r\n    case \"TimePeriod\":\r\n      return (\r\n        <TimePeriod key={key} color={page.color} />\r\n      )\r\n    case \"Slider\":\r\n      return <div><Slider key={key} text={page.text} min={page.min} max={page.max} value={page.value} update={page.update} /></div>\r\n    default:\r\n      return <div></div>\r\n  }\r\n}\r\n  \r\nconst Header = ({key, text, color}) => {\r\n  return (\r\n    <div className={\"pastel_\" + color + \" divider\"}>\r\n      <h3 className=\"p-3\">{text}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Slider = ({key, text, min, max, value, update}) => {\r\n  const [val, setVal] = useState(value)\r\n\r\n  return (\r\n    <div>\r\n      <label class=\"form-label\">{text}</label>\r\n      <input type=\"range\" class=\"form-range\" min={min} max={max} value={val} onChange={(e) => {e.preventDefault(); const v = e.target.value; update(v); setVal(v)}}></input>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst TimePeriod = ({key, color}) => {\r\n  const [start, setStart] = useState(\"\")\r\n  const [end, setEnd] = useState(\"\")\r\n  \r\n  return (\r\n    <div>\r\n      <Field type=\"date\" text=\"From\" color={color} value=\"\" units=\"\" update={()=>{}} />\r\n      <Field type=\"date\" text=\"To\" color={color} value=\"\" units=\"\" update={()=>{}} />\r\n    </div>\r\n  )\r\n}\r\n  \r\nconst Field = ({key, text, color, value, units, type, update, time}) => {\r\n  if (typeof(type) == undefined) {\r\n      type = \"text\"\r\n  }\r\n  const [val, setVal] = useState(value)\r\n  const changeText = (event) => {\r\n    event.preventDefault()\r\n    const new_val = event.target.value\r\n    setVal(new_val)\r\n    update(new_val)\r\n  }\r\n  let unitLabel = \"\"\r\n  if (units !== \"\") {\r\n    unitLabel = \r\n    <label className=\"ms-md-2\">\r\n      {units}\r\n    </label>\r\n  }\r\n\r\n  let timeperiod = \"\"\r\n  if (time) {\r\n    timeperiod = \r\n    <select>\r\n      <option value=\"Daily\">Daily</option>\r\n      <option value=\"Weekly\">Weekly</option>\r\n      <option value=\"Monthly\">Monthly</option>\r\n      <option value=\"Yearly\">Yearly</option>\r\n    </select>\r\n  }\r\n\r\n  return (\r\n    <div className={\"pastel_\" + color + \" divider col-md-6 row\"}>\r\n      \r\n      <label className=\"p-3\">{text}</label>\r\n      {timeperiod}\r\n      <div className=\"d-sm-inline-block\">\r\n          <input onChange={changeText} type={type} value={val}>\r\n          </input>\r\n          {unitLabel}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n  \r\nconst Count = ({key, min, max, text, color, value, update}) => {\r\n  const [val, setVal] = useState(value)\r\n  const substract = (event) => {\r\n    event.preventDefault()\r\n    const new_val = Math.max(min, val-1)\r\n    setVal(new_val)\r\n    update(new_val)\r\n  }\r\n  const add = (event) => {\r\n    event.preventDefault()\r\n    const new_val = Math.min(val+1, max)\r\n    setVal(new_val)\r\n    update(new_val)\r\n  }\r\n  \r\n  return (\r\n    <div className={\"pastel_\" + color + \" divider  col-md-6 row\"}>\r\n      <label className=\"p-3\">{text}</label>\r\n      <div className=\"d-sm-inline-block\">\r\n          <button onClick={substract} className=\"btn-primary btn-lg\">\r\n              -\r\n          </button>\r\n          <label className=\"p-3\">\r\n          {val}\r\n          </label>\r\n          <button onClick={add} className=\"btn-primary btn-lg\">\r\n              +\r\n          </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n  export {Element, Button};","import './App.css';\r\nimport React, { useState } from 'react'\r\nimport {Button} from './Elements'\r\n\r\nconst Navbar = ({click}) => {\r\n    const buttonDivStyle = {display: \"inline-block\", float: \"right\", marginLeft: 10, marginRight: 10, height: \"9vh\"}\r\n    const buttonStyle = {height: \"9vh\"}\r\n    return (\r\n      <div>\r\n        <header>\r\n            <nav id=\"navbar\" className=\"pastel_green navbar-expand-sm navbar-toggleable-sm navbar-light border-bottom box-shadow\">\r\n                <div>\r\n                    <a className=\"navbar-brand\" >Emissions tracker</a>\r\n                    <Button style={buttonDivStyle} buttonStyle={buttonStyle} text=\"Home\" submit={click(\"home\")} />\r\n                    <Button style={buttonDivStyle} buttonStyle={buttonStyle} text=\"Privacy and settings\" submit={click(\"settings\")} />\r\n                    \r\n                </div>\r\n                \r\n            </nav>\r\n        </header>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export {Navbar}","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001'\r\n\r\nconst get = ({username, token}) => {\r\n  const url = `/${username}/${token}`\r\n  console.log(url)\r\n  const request = axios.get(`/${username}/${token}`)\r\n  console.log(request)\r\n  const data = request.then(response => response.data)\r\n  console.log(data)\r\n  return data\r\n\r\n}\r\n\r\nconst create = newObject => {\r\n  const url = `/${newObject.username}/${newObject.token}`\r\n  console.log(url)\r\n  const request = axios.post(url, newObject)\r\n  console.log(newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/*\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  console.log(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n*/\r\nexport default { \r\n  get, create//, update\r\n}","import './App.css';\nimport {Element} from './Elements.js'\nimport {Navbar} from './Navbar.js'\nimport React, { useState} from 'react'\nimport communicate from './services/communicate';\n\nconst bcrypt = require('bcryptjs')\n//const usersRouter = require('./controllers/users')\n//app.use('/api/users', usersRouter)\n\nconst App = () => {\n  const [validDetails, setValidDetails] = useState(false)\n  const [currentPage, setPage] = useState(\"login\")\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [repeatedPassword, setRepeatedPassword] = useState(\"\")\n  const [token, setToken] = useState(\"\")\n\n  const [survey, setSurvey] = useState({\n    residents: 1,\n    homeSize: 0,\n    electricityConsumption: 0,\n    renewablePercentage: 0,\n    weeklyTrainMileage: 0,\n    weeklyBikeMileage: 0,\n    weeklyWalkingMileage: 0,\n    weeklyDrivingMileage: 0,\n    weeklyBusMileage: 0,\n    ShortFlights: 0,\n    LongFlights: 0\n  })\n\n  const [challenges, setChallenges] = useState({\n    busCount: 0,\n    trainCount: 0\n  })\n\n  let appState = {}\n\n  const setObject = (object, setObject) => (k) => (value) => {\n    console.log(object)\n    console.log(k, value)\n    setObject({...object, [k]: value})\n  }\n\n  const setSurveyState = setObject(survey, setSurvey)\n\n  const setChallengesState = setObject(challenges, setChallenges)\n\n  const encryptPassword = (password) => {\n    const saltRounds = 10\n    const passwordHash = password//bcrypt.hashSync(password, saltRounds).replace(\"/\", \"A\")\n    //console.log(passwordHash)\n    //console.log(bcrypt.compareSync(\"a\", passwordHash))\n    //console.log(\"$2a$10$czWkEiuJ3CPpB3Ax7iOpgeQCievIsFv2FitTO4l2nzo4ly7gImiD6\")\n    return passwordHash\n  }\n\n  const updateState = () => {\n    appState = {...survey, ...challenges, username, token}\n  }\n  updateState()\n\n  const setParam = (setter) => (key) => (data, def) => {\n    if (data === undefined || data === null) {\n      setter(key)(def)\n    }\n    else {\n      setter(key)(data[key])\n    }\n  }\n  const setData = userData => {\n    console.log(\"start setting data\")\n    try {\n      let chals = [[\"trainCount\", 5], [\"busCount\", 5]]\n      for (var i in chals) {\n        const s = chals[i]\n        setParam(setChallengesState)(userData)(s[0], s[1])\n      }\n\n      console.log(\"mid\")\n      console.log(\"mid\")\n      console.log(\"mid\")\n      console.log(\"mid\")\n      console.log(\"mid\")\n      chals = [[\"trainCount\", 5], [\"busCount\", 5], [\"homeSize\", \"\"], [\"electricityConsumption\", \"\"], [\"renewablePercentage\", \"\"], [\"shortFlights\", \"\"], [\"longFlights\", \"\"]]\n      chals.forEach(a => {console.log(a); setParam(setChallengesState)(userData)(a[0], a[1])})\n      \n      console.log(\"finish\")\n    }\n    catch (e) {\n      console.log(e)\n    }\n    \n    \n    \n  }\n\n  const getData = () => {\n    let encryptedPassword\n    if (token === \"\") {\n      encryptedPassword = encryptPassword(password)\n      console.log(encryptPassword)\n      setToken(encryptedPassword)\n    }\n    else {\n      encryptedPassword = token \n    }\n    console.log(\"encrypted password\", encryptedPassword)\n\n    \n    const success = communicate.get({username, token: encryptedPassword}).then(setData).then(() => {setPage(\"home\"); setValidDetails(true)}).catch(() => {window.alert(\"incorrect username or password\"); setToken(\"\")})\n    \n    updateState()\n    return success\n  }\n\n  const sendData = () => {\n    updateState()\n    if (token === \"\") {\n      const encryptedPassword = encryptPassword(password)\n      console.log(encryptedPassword)\n      setToken(encryptedPassword)\n      appState.token = encryptedPassword\n      console.log(appState)\n    }\n    \n    console.log(appState)\n    communicate.create(appState).then(() => {if (currentPage === \"create account\") {console.log(\"account set successfully\"); setPage(\"initial survey\"); setValidDetails(true)}else if (currentPage === \"login\") {setPage(\"home\"); setValidDetails(true)}}).catch()\n  }\n\n  window.onbeforeunload = (e) => {\n    sendData()\n  }\n  const login = getData\n\n  const createAccount = () => {\n    console.log(username, password, repeatedPassword)\n    if (username !== \"\" && password !== \"\" && password === repeatedPassword) {\n      setToken(encryptPassword(password))\n      console.log(token)\n      sendData()\n\n      setPassword(\"\")\n      setRepeatedPassword(\"\")\n    }\n  }\n  const changeState = (setter) => (val) => {\n    setter(val)\n    sendData()\n  }\n\n  const updateDetails = (setter) => (val) => {\n    setter(val)\n  }\n\n  const navigate = (page) => (event) => {\n    event.preventDefault()\n    if (validDetails) {\n      sendData()\n    }\n    if (validDetails || page === \"create account\" || page === \"login\") {\n      if (Object.keys(pages).includes(page)) {\n        setPage(page);\n      }\n      else {\n        setPage(\"in development\")\n      } \n    }\n  }\n\n  const pages = {\n    \"login\":\n      [\n        {\n          type: \"Field\",\n          text: \"Username\",\n          color: \"green\",\n          value: username,\n          units: \"\",\n          update: updateDetails(setUsername)\n        },\n        {\n          type: \"Field\",\n          text: \"Password\",\n          color: \"green\",\n          value: password,\n          units: \"\",\n          field: \"password\",\n          update: updateDetails(setPassword)\n        },\n        {\n          type: \"Button\",\n          text: \"Login\",\n          submit: login\n        },\n        {\n          type: \"Button\",\n          text: \"Create an account\",\n          submit: navigate(\"create account\")\n        }\n      ],\n    \"create account\": [\n        {\n          type: \"Field\",\n          text: \"Username\",\n          color: \"green\",\n          value: username,\n          units: \"\",\n          update: updateDetails(setUsername)\n        },\n        {\n          type: \"Field\",\n          text: \"Password\",\n          color: \"green\",\n          value: password,\n          units: \"\",\n          field: \"password\",\n          update: updateDetails(setPassword)\n        },\n        {\n          type: \"Field\",\n          text: \"Repeat password\",\n          color: \"green\",\n          value: repeatedPassword,\n          units: \"\",\n          field: \"password\",\n          update: updateDetails(setRepeatedPassword)\n        },\n        {\n          type: \"Button\",\n          text: \"Create an account\",\n          submit: createAccount\n        }\n      ],\n    \"initial survey\": [\n      {\n        type: \"Header\",\n        text: \"Home emissions\", \n        color: \"blue\"\n      },\n      {\n        type: \"Count\",\n        min: 1,\n        max: Infinity,\n        text: \"People in your home\",\n        color: \"green\",\n        value: survey.residents,\n        update: setSurveyState(\"residents\") \n      },\n      {\n        type: \"Field\",\n        text: \"Size of home\",\n        color: \"green\",\n        value: survey.homeSize,\n        units: \"m^2\",\n        update: setSurveyState(\"homeSize\")\n      },\n      {\n        type: \"Field\",\n        text: \"Monthly Electricity Consumption\",\n        color: \"green\",\n        value: survey.electricityConsumption,\n        units: \"kWh\",\n        update: setSurveyState(\"electricityConsumption\")\n      },\n      {\n        type: \"Field\",\n        text: \"What percentage of your energy is renewable?\",\n        color: \"green\",\n        value: survey.renewablePercentage,\n        units: \"%\",\n        update: setSurveyState(\"renewablePercentage\")\n      },\n      {\n        type: \"Field\",\n        text: \"Gas usage\",\n        color: \"green\",\n        value: survey.renewablePercentage,\n        units: \"%\",\n        update: setSurveyState(\"renewablePercentage\")\n      },\n      {\n        type: \"Header\",\n        text: \"Transport\", \n        color: \"blue\"\n      },\n      {\n        type: \"Field\",\n        text: \"Weekly Train mileage\",\n        color: \"green\",\n        value: survey.weeklyTrainMileage,\n        units: \"km\",\n        update: setSurveyState(\"weeklyTrainMileage\")\n      },\n      {\n        type: \"Field\",\n        text: \"Weekly Bus mileage\",\n        color: \"green\",\n        value: survey.weeklyBusMileage,\n        units: \"km\",\n        update: setSurveyState(\"busMileage\")\n      },\n      {\n        type: \"Field\",\n        text: \"Weekly Car Mileage\",\n        color: \"green\",\n        value: survey.weeklyCarMileage,\n        units: \"km\",\n        update: setSurveyState(\"weeklyTrainMileage\")\n      },\n      {\n        type: \"Count\",\n        min: 0,\n        max: Infinity,\n        text: \"Yearly flights <= 3hrs long\",\n        timeperiod: true,\n        color: \"green\",\n        value: survey.shortFlights,\n        update: setSurveyState(\"shortFlights\")\n      },\n      {\n        type: \"Count\",\n        min: 0,\n        max: Infinity,\n        text: \"Yearly flights > 3hrs long\",\n        timeperiod: true,\n        color: \"green\",\n        value: survey.longFlights,\n        update: setSurveyState(\"longFlights\")\n      }\n    ],\n    \"home\":\n      [\n        {\n        type: \"BigButton\",\n        page: \"emissions\",\n        text: \"Input my emissions\",\n        color: \"blue\"\n        },\n        {\n          type: \"BigButton\",\n          page: \"see emissions\",\n          text: \"See my emissions\",\n          color: \"blue\"\n        },\n        {\n          type: \"BigButton\",\n          page: \"challenge\",\n          text: \"Challenge yourself\",\n          color: \"blue\"\n        }\n      ],\n    \"emissions\": \n      [\n        {\n          type: \"BigButton\",\n          page: \"survey\",\n          text: \"Detailed Questionnaire\",\n          color: \"blue\"\n        },\n        {\n          type: \"BigButton\",\n          page: \"diet\",\n          text: \"Manage my diet\",\n          color: \"blue\"\n        },\n        {\n          type: \"BigButton\",\n          page: \"transport\",\n          text: \"Manage my transport\",\n          color: \"blue\"\n        }\n      ],\n    \"survey\":\n      [\n        {\n          type: \"Header\",\n          text: \"Home emissions\", \n          color: \"blue\"\n        },\n        {\n          type: \"TimePeriod\",\n          color: \"blue\"\n        },\n        {\n          type: \"Count\",\n          min: 1,\n          max: Infinity,\n          text: \"People in your home\",\n          color: \"green\",\n          value: survey.residents,\n          update: setSurveyState(\"residents\")\n        },\n        {\n          type: \"Field\",\n          text: \"Size of home\",\n          color: \"green\",\n          value: survey.homeSize,\n          units: \"m^2\",\n          update: setSurveyState(\"homeSize\")\n        },\n        {\n          type: \"Field\",\n          text: \"Electricity Consumption\",\n          timeperiod: true,\n          color: \"green\",\n          value: survey.electricityConsumption,\n          units: \"kWh\",\n          update: setSurveyState(\"electricityConsumption\")\n        },\n        {\n          type: \"Field\",\n          text: \"Renewable energy percentage\",\n          color: \"green\",\n          value: survey.renewablePercentage,\n          units: \"%\",\n          update: setSurveyState(\"renewablePercentage\")\n        },\n        {\n          type: \"Header\",\n          text: \"Transport\", \n          color: \"blue\"\n        },\n        {\n          type: \"Field\",\n          text: \"Train mileage\",\n          timeperiod: true,\n          color: \"green\",\n          value: survey.weeklyTrainMileage,\n          units: \"km\",\n          update: setSurveyState(\"weeklyTrainMileage\")\n        },\n        {\n          type: \"Field\",\n          text: \"Bus mileage\",\n          timeperiod: true,\n          color: \"green\",\n          value: survey.weeklyBusMileage,\n          units: \"km\",\n          update: setSurveyState(\"weeklyBusMileage\")\n        },\n        {\n          type: \"Count\",\n          min: 0,\n          max: Infinity,\n          text: \"Flights <= 3hrs long\",\n          timeperiod: true,\n          color: \"green\",\n          value: survey.shortFlights,\n          update: setSurveyState(\"shortFlights\")\n        },\n        {\n          type: \"Count\",\n          min: 0,\n          max: Infinity,\n          text: \"Flights > 3hrs long\",\n          timeperiod: true,\n          color: \"green\",\n          value: survey.longFlights,\n          update: setSurveyState(\"longFlights\")\n        }\n      ],\n    \"challenge\": \n      [\n        {\n          type: \"Header\",\n          text: \"Challenge yourself\", \n          color: \"blue\"\n        },\n        {\n          type: \"Count\",\n          min: 0,\n          max: Infinity,\n          text: \"Took a bus instead of driving\",\n          color: \"blue\",\n          value: challenges.busCount,\n          update: setChallengesState(\"busCount\")\n        },\n        {\n          type: \"Count\",\n          min: 0,\n          max: Infinity,\n          text: \"Took a train instead of driving\",\n          color: \"blue\",\n          value: challenges.trainCount,\n          update: setChallengesState(\"trainCount\")\n        }\n      ],\n      \"in development\": [\n        {\n          type: \"Header\",\n          text: \"Ooops, the page you are currently looking for is still in development or does not yet exist! Click on the navigation bar to return to the home screen.\", \n          color: \"blue\"\n        }\n      ]\n    }\n  \n  \n  \n  return (\n    <div className=\"App\">\n      <Navbar click={navigate}/>\n      {pages[currentPage].map((p, i) => <Element key={i} page={p} navigate={navigate}/>)}\n    </div>\n  );\n}\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}