(this.webpackJsonpfootprintapp=this.webpackJsonpfootprintapp||[]).push([[0],{129:function(e,t,n){},130:function(e,t,n){},156:function(e,t){},158:function(e,t){},168:function(e,t){},170:function(e,t){},195:function(e,t){},197:function(e,t){},198:function(e,t){},203:function(e,t){},205:function(e,t){},211:function(e,t){},213:function(e,t){},232:function(e,t){},244:function(e,t){},247:function(e,t){},250:function(e,t,n){"use strict";n.r(t);var o=n(4),a=n.n(o),i=n(124),l=n.n(i),r=(n(129),n(130),n(35)),c=n(24),s=n(6),u=(n(37),n(0)),d=function(e){e.key;var t=e.page,n=e.text,o=e.color,a=e.click;return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"pastel_"+o+" divider quarter",onClick:a(t),children:n})})},p=function(e){var t=e.text,n=e.submit,o=e.style,a=e.buttonStyle;return void 0==typeof o&&(o={}),void 0==typeof a&&(a={}),Object(u.jsx)("div",{style:o,children:Object(u.jsx)("button",{style:a,className:"btn-primary",onClick:n,children:t})})},g=function(e){var t=e.key,n=e.page,o=e.navigate;switch(n.type){case"BigButton":return Object(u.jsx)("div",{children:Object(u.jsx)(d,{page:n.page,text:n.text,color:n.color,click:o},t)});case"Count":return Object(u.jsx)("div",{children:Object(u.jsx)(y,{min:n.min,max:n.max,text:n.text,color:n.color,value:n.value,update:n.update},t)});case"Header":return Object(u.jsx)("div",{children:Object(u.jsx)(b,{text:n.text,color:n.color},t)});case"Field":return Object(u.jsx)("div",{children:Object(u.jsx)(x,{time:n.timeperiod,text:n.text,color:n.color,value:n.value,units:n.units,update:n.update,type:n.field},t)});case"Button":return Object(u.jsx)("div",{children:Object(u.jsx)(p,{text:n.text,submit:n.submit},t)});case"TimePeriod":return Object(u.jsx)(j,{color:n.color},t);case"Slider":return Object(u.jsx)("div",{children:Object(u.jsx)(m,{text:n.text,min:n.min,max:n.max,value:n.value,update:n.update},t)});default:return Object(u.jsx)("div",{})}},b=function(e){e.key;var t=e.text,n=e.color;return Object(u.jsx)("div",{className:"pastel_"+n+" divider",children:Object(u.jsx)("h3",{className:"p-3",children:t})})},m=function(e){e.key;var t=e.text,n=e.min,a=e.max,i=e.value,l=e.update,r=Object(o.useState)(i),c=Object(s.a)(r,2),d=c[0],p=c[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{class:"form-label",children:t}),Object(u.jsx)("input",{type:"range",class:"form-range",min:n,max:a,value:d,onChange:function(e){e.preventDefault();var t=e.target.value;l(t),p(t)}})]})},j=function(e){e.key;var t=e.color,n=Object(o.useState)(""),a=Object(s.a)(n,2),i=(a[0],a[1],Object(o.useState)("")),l=Object(s.a)(i,2);l[0],l[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{type:"date",text:"From",color:t,value:"",units:"",update:function(){}}),Object(u.jsx)(x,{type:"date",text:"To",color:t,value:"",units:"",update:function(){}})]})},x=function(e){e.key;var t=e.text,n=e.color,a=e.value,i=e.units,l=e.type,r=e.update,c=e.time;void 0==typeof l&&(l="text");var d=Object(o.useState)(a),p=Object(s.a)(d,2),g=p[0],b=p[1],m="";""!==i&&(m=Object(u.jsx)("label",{className:"ms-md-2",children:i}));var j="";return c&&(j=Object(u.jsxs)("select",{children:[Object(u.jsx)("option",{value:"Daily",children:"Daily"}),Object(u.jsx)("option",{value:"Weekly",children:"Weekly"}),Object(u.jsx)("option",{value:"Monthly",children:"Monthly"}),Object(u.jsx)("option",{value:"Yearly",children:"Yearly"})]})),Object(u.jsxs)("div",{className:"pastel_"+n+" divider col-md-6 row",children:[Object(u.jsx)("label",{className:"p-3",children:t}),j,Object(u.jsxs)("div",{className:"d-sm-inline-block",children:[Object(u.jsx)("input",{onChange:function(e){e.preventDefault();var t=e.target.value;b(t),r(t)},type:l,value:g}),m]})]})},y=function(e){e.key;var t=e.min,n=e.max,a=e.text,i=e.color,l=e.value,r=e.update,c=Object(o.useState)(l),d=Object(s.a)(c,2),p=d[0],g=d[1];return Object(u.jsxs)("div",{className:"pastel_"+i+" divider  col-md-6 row",children:[Object(u.jsx)("label",{className:"p-3",children:a}),Object(u.jsxs)("div",{className:"d-sm-inline-block",children:[Object(u.jsx)("button",{onClick:function(e){e.preventDefault();var n=Math.max(t,p-1);g(n),r(n)},className:"btn-primary btn-lg",children:"-"}),Object(u.jsx)("label",{className:"p-3",children:p}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault();var t=Math.min(p+1,n);g(t),r(t)},className:"btn-primary btn-lg",children:"+"})]})]})},v=function(e){var t=e.click,n={display:"inline-block",float:"right",marginLeft:10,marginRight:10,height:"9vh"},o={height:"9vh"};return Object(u.jsx)("div",{children:Object(u.jsx)("header",{children:Object(u.jsx)("nav",{id:"navbar",className:"pastel_green navbar-expand-sm navbar-toggleable-sm navbar-light border-bottom box-shadow",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("a",{className:"navbar-brand",children:"Emissions tracker"}),Object(u.jsx)(p,{style:n,buttonStyle:o,text:"Home",submit:t("home")}),Object(u.jsx)(p,{style:n,buttonStyle:o,text:"Privacy and settings",submit:t("settings")})]})})})})},h=n(61),f=n.n(h),O=function(e){var t=e.username,n=e.token,o="/".concat(t,"/").concat(n);console.log(o);var a=f.a.get("/".concat(t,"/").concat(n));console.log(a);var i=a.then((function(e){return e.data}));return console.log(i),i},k=function(e){var t="/".concat(e.username,"/").concat(e.token);console.log(t);var n=f.a.post(t,e);return console.log(e),n.then((function(e){return e.data}))},w=(n(149),function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)("login"),l=Object(s.a)(i,2),d=l[0],p=l[1],b=Object(o.useState)(""),m=Object(s.a)(b,2),j=m[0],x=m[1],y=Object(o.useState)(""),h=Object(s.a)(y,2),f=h[0],w=h[1],C=Object(o.useState)(""),F=Object(s.a)(C,2),S=F[0],B=F[1],M=Object(o.useState)(""),N=Object(s.a)(M,2),P=N[0],T=N[1],H=Object(o.useState)({residents:1,homeSize:0,electricityConsumption:0,renewablePercentage:0,weeklyTrainMileage:0,weeklyBikeMileage:0,weeklyWalkingMileage:0,weeklyDrivingMileage:0,weeklyBusMileage:0,ShortFlights:0,LongFlights:0}),D=Object(s.a)(H,2),W=D[0],z=D[1],E=Object(o.useState)({busCount:0,trainCount:0}),_=Object(s.a)(E,2),Y=_[0],L=_[1],R={},I=function(e,t){return function(n){return function(o){console.log(e),console.log(n,o),t(Object(c.a)(Object(c.a)({},e),{},Object(r.a)({},n,o)))}}},J=I(W,z),U=I(Y,L),q=function(e){return e},A=function(){R=Object(c.a)(Object(c.a)(Object(c.a)({},W),Y),{},{username:j,token:P})};A();var G=function(e){return function(t){return function(n,o){void 0===n||null===n?e(t)(o):e(t)(n[t])}}},Q=function(e){console.log("start setting data");try{var t=[["trainCount",5],["busCount",5]];for(var n in t){var o=t[n];G(U)(e)(o[0],o[1])}console.log("mid"),console.log("mid"),console.log("mid"),console.log("mid"),console.log("mid"),(t=[["trainCount",5],["busCount",5],["homeSize",""],["electricityConsumption",""],["renewablePercentage",""],["shortFlights",""],["longFlights",""]]).forEach((function(t){console.log(t),G(U)(e)(t[0],t[1])})),console.log("finish")}catch(a){console.log(a)}},K=function(){if(A(),""===P){var e=f;console.log(e),T(e),R.token=e,console.log(R)}console.log(R),k(R).then((function(){"create account"===d?(console.log("account set successfully"),p("initial survey"),a(!0)):"login"===d&&(p("home"),a(!0))})).catch()};window.onbeforeunload=function(e){K()};var V=function(){var e;""===P?(e=f,console.log(q),T(e)):e=P,console.log("encrypted password",e);var t=O({username:j,token:e}).then(Q).then((function(){p("home"),a(!0)})).catch((function(){window.alert("incorrect username or password"),T("")}));return A(),t},X=function(e){return function(t){e(t)}},Z=function(e){return function(t){t.preventDefault(),n&&K(),(n||"create account"===e||"login"===e)&&(Object.keys($).includes(e)?p(e):p("in development"))}},$={login:[{type:"Field",text:"Username",color:"green",value:j,units:"",update:X(x)},{type:"Field",text:"Password",color:"green",value:f,units:"",field:"password",update:X(w)},{type:"Button",text:"Login",submit:V},{type:"Button",text:"Create an account",submit:Z("create account")}],"create account":[{type:"Field",text:"Username",color:"green",value:j,units:"",update:X(x)},{type:"Field",text:"Password",color:"green",value:f,units:"",field:"password",update:X(w)},{type:"Field",text:"Repeat password",color:"green",value:S,units:"",field:"password",update:X(B)},{type:"Button",text:"Create an account",submit:function(){console.log(j,f,S),""!==j&&""!==f&&f===S&&(T(f),console.log(P),K(),w(""),B(""))}}],"initial survey":[{type:"Header",text:"Home emissions",color:"blue"},{type:"Count",min:1,max:1/0,text:"People in your home",color:"green",value:W.residents,update:J("residents")},{type:"Field",text:"Size of home",color:"green",value:W.homeSize,units:"m^2",update:J("homeSize")},{type:"Field",text:"Monthly Electricity Consumption",color:"green",value:W.electricityConsumption,units:"kWh",update:J("electricityConsumption")},{type:"Field",text:"What percentage of your energy is renewable?",color:"green",value:W.renewablePercentage,units:"%",update:J("renewablePercentage")},{type:"Field",text:"Gas usage",color:"green",value:W.renewablePercentage,units:"%",update:J("renewablePercentage")},{type:"Header",text:"Transport",color:"blue"},{type:"Field",text:"Weekly Train mileage",color:"green",value:W.weeklyTrainMileage,units:"km",update:J("weeklyTrainMileage")},{type:"Field",text:"Weekly Bus mileage",color:"green",value:W.weeklyBusMileage,units:"km",update:J("busMileage")},{type:"Field",text:"Weekly Car Mileage",color:"green",value:W.weeklyCarMileage,units:"km",update:J("weeklyTrainMileage")},{type:"Count",min:0,max:1/0,text:"Yearly flights <= 3hrs long",timeperiod:!0,color:"green",value:W.shortFlights,update:J("shortFlights")},{type:"Count",min:0,max:1/0,text:"Yearly flights > 3hrs long",timeperiod:!0,color:"green",value:W.longFlights,update:J("longFlights")}],home:[{type:"BigButton",page:"emissions",text:"Input my emissions",color:"blue"},{type:"BigButton",page:"see emissions",text:"See my emissions",color:"blue"},{type:"BigButton",page:"challenge",text:"Challenge yourself",color:"blue"}],emissions:[{type:"BigButton",page:"survey",text:"Detailed Questionnaire",color:"blue"},{type:"BigButton",page:"diet",text:"Manage my diet",color:"blue"},{type:"BigButton",page:"transport",text:"Manage my transport",color:"blue"}],survey:[{type:"Header",text:"Home emissions",color:"blue"},{type:"TimePeriod",color:"blue"},{type:"Count",min:1,max:1/0,text:"People in your home",color:"green",value:W.residents,update:J("residents")},{type:"Field",text:"Size of home",color:"green",value:W.homeSize,units:"m^2",update:J("homeSize")},{type:"Field",text:"Electricity Consumption",timeperiod:!0,color:"green",value:W.electricityConsumption,units:"kWh",update:J("electricityConsumption")},{type:"Field",text:"Renewable energy percentage",color:"green",value:W.renewablePercentage,units:"%",update:J("renewablePercentage")},{type:"Header",text:"Transport",color:"blue"},{type:"Field",text:"Train mileage",timeperiod:!0,color:"green",value:W.weeklyTrainMileage,units:"km",update:J("weeklyTrainMileage")},{type:"Field",text:"Bus mileage",timeperiod:!0,color:"green",value:W.weeklyBusMileage,units:"km",update:J("weeklyBusMileage")},{type:"Count",min:0,max:1/0,text:"Flights <= 3hrs long",timeperiod:!0,color:"green",value:W.shortFlights,update:J("shortFlights")},{type:"Count",min:0,max:1/0,text:"Flights > 3hrs long",timeperiod:!0,color:"green",value:W.longFlights,update:J("longFlights")}],challenge:[{type:"Header",text:"Challenge yourself",color:"blue"},{type:"Count",min:0,max:1/0,text:"Took a bus instead of driving",color:"blue",value:Y.busCount,update:U("busCount")},{type:"Count",min:0,max:1/0,text:"Took a train instead of driving",color:"blue",value:Y.trainCount,update:U("trainCount")}],"in development":[{type:"Header",text:"Ooops, the page you are currently looking for is still in development or does not yet exist! Click on the navigation bar to return to the home screen.",color:"blue"}]};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(v,{click:Z}),$[d].map((function(e,t){return Object(u.jsx)(g,{page:e,navigate:Z},t)}))]})});l.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))},37:function(e,t,n){}},[[250,1,2]]]);
//# sourceMappingURL=main.cfd99440.chunk.js.map